<template>
    <div class="mt-[1px] bg-gray-100 pb-10 last:pb-0 md:mt-0 md:py-6 md:pb-6" onscroll="handleOnScroll()">
        <div class=" flex flex-wrap items-start gap-6 px-0 md:flex-nowrap md:px-4">
            <div class=" flex w-full flex-col gap-4 md:w-[67.62%]">
                <div class="flex items-start gap-6 rounded bg-white p-4">
                    <div class="flex w-[21%] flex-initial items-center justify-center bg-white"><a
                            class="flex min-h-[112px] items-center justify-center" title="DevOps Engineer"
                            href="/companies/neyu-ltd-92022?src=topdev_detailjob&amp;medium=logo_company"><img
                                alt="TopDev" loading="lazy" width="160" height="112" decoding="async" data-nimg="1"
                                class="h-full max-h-[112px] w-[160px] bg-white object-contain"
                                style="color: transparent;"
                                srcset="https://salt.topdev.vn/ByeJ64cwIPdOBBvR-vGj4mD6KkNs83JoKh7IMig08q8/fit/256/1000/ce/1/aHR0cHM6Ly9hc3NldHMudG9wZGV2LnZuL2ltYWdlcy8yMDIyLzAxLzE3L1RvcERldi1sb2dvc3dLSWNsazlhT2hMaWVlVXVKbkRzMkE4UmhuczFmWnEtMTY0MjM5ODM5NC5wbmc 1x, https://salt.topdev.vn/AksTLoqA9-GrmBn6ykazEFi0SqYAaPQmQrUexq9Y6PM/fit/384/1000/ce/1/aHR0cHM6Ly9hc3NldHMudG9wZGV2LnZuL2ltYWdlcy8yMDIyLzAxLzE3L1RvcERldi1sb2dvc3dLSWNsazlhT2hMaWVlVXVKbkRzMkE4UmhuczFmWnEtMTY0MjM5ODM5NC5wbmc 2x"
                                src="https://salt.topdev.vn/AksTLoqA9-GrmBn6ykazEFi0SqYAaPQmQrUexq9Y6PM/fit/384/1000/ce/1/aHR0cHM6Ly9hc3NldHMudG9wZGV2LnZuL2ltYWdlcy8yMDIyLzAxLzE3L1RvcERldi1sb2dvc3dLSWNsazlhT2hMaWVlVXVKbkRzMkE4UmhuczFmWnEtMTY0MjM5ODM5NC5wbmc"></a>
                    </div>
                    <div class="w-3/4 flex flex-initial flex-col">
                        <h1 class="text-2xl font-bold text-black">DevOps Engineer</h1>
                        <p class="my-1 line-clamp-1 text-base font-bold text-gray-500">NEYU Ltd.,</p>
                        <div class="my-2 max-w-[540px] text-base text-gray-500">
                            <div class="mb-2 flex last:mb-0">
                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24"
                                    aria-hidden="true" class="mr-2 h-6 w-6 text-gray-300" height="1em" width="1em"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                <div class="w-11/12">17-19 Tôn Thất Tùng, Tòa nhà Hà Phan, Phường Phạm Ngũ Lão, Quận 1,
                                    Thành phố Hồ Chí Minh
                                </div>
                            </div>
                        </div>
                        <div class="mb-2 max-w-[540px] text-base text-gray-500">
                            <div class="flex last:mb-0">
                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20"
                                    aria-hidden="true" class="mr-2 flex h-6 w-6 items-center text-gray-300" height="1em"
                                    width="1em" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z"
                                        clip-rule="evenodd"></path>
                                </svg>
                                <div class="flex w-11/12 items-center text-base text-gray-500">Posted 1 day ago</div>
                            </div>
                        </div>
                        <div class="flex max-w-[540px] items-center">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20"
                                aria-hidden="true" class="mr-2 h-6 w-6 text-gray-300" height="1em" width="1em"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M1 4a1 1 0 011-1h16a1 1 0 011 1v8a1 1 0 01-1 1H2a1 1 0 01-1-1V4zm12 4a3 3 0 11-6 0 3 3 0 016 0zM4 9a1 1 0 100-2 1 1 0 000 2zm13-1a1 1 0 11-2 0 1 1 0 012 0zM1.75 14.5a.75.75 0 000 1.5c4.417 0 8.693.603 12.749 1.73 1.111.309 2.251-.512 2.251-1.696v-.784a.75.75 0 00-1.5 0v.784a.272.272 0 01-.35.25A49.043 49.043 0 001.75 14.5z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            <p class="text-primary">Negotiable</p>
                        </div>
                    </div>
                    <div class="flex-col flex gap-6">
                        <div class="w-fit" data-testid="flowbite-tooltip-target"><button role="button"
                                aria-label="Follow button"><span
                                    class="text-gray cursor-pointer select-none text-xl leading-none hover:text-primary-300 lg:text-2xl"><svg
                                        stroke="currentColor" fill="none" stroke-width="1.5" viewBox="0 0 24 24"
                                        aria-hidden="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z">
                                        </path>
                                    </svg></span></button></div>
                        <div data-testid="flowbite-tooltip" tabindex="-1"
                            class="absolute inline-block z-10 rounded-lg py-2 px-3 text-sm font-medium shadow-sm transition-opacity duration-300 invisible opacity-0 bg-gray-900 text-white dark:bg-gray-700 whitespace-nowrap"
                            style="position: absolute; top: -28px; left: 586.225px;" id=":r0:" role="tooltip">
                            <div class="relative z-20">Follow</div>
                            <div class="absolute z-10 h-2 w-2 rotate-45 bg-gray-900 dark:bg-gray-700"
                                data-testid="flowbite-tooltip-arrow" style="left: 29px; bottom: -4px;">&nbsp;</div>
                        </div>
                    </div>
                </div>
                <div id="tabMnf" role="tablist" class="tabs tabs-bordered grid grid-cols-2 bg-white">
                    <input type="radio" name="my_tabs_2" role="tab" class="tab" aria-label="Description" />
                    <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                        Tab content 1
                    </div>

                    <input type="radio" name="my_tabs_2" role="tab" class="tab" aria-label="About company"
                        checked="checked" />
                    <div role="tabpanel" class="tab-content bg-base-100 border-base-300 rounded-box p-6">
                        Tab content 2
                    </div>
                </div>

            </div>
            <div class="flex w-full flex-wrap gap-4 md:w-[32.38%]" id="tabMnf2">
                <button id="applyCV"
                    class="w-full rounded border-primary bg-primary font-semibold text-white hover:border-primary-400 hover:bg-primary-400 disabled:border-gray-200 disabled:bg-gray-200 disabled:text-gray-100 lg:h-14 h-14"
                    data-gtm-vis-first-on-screen8747084_30="642" data-gtm-vis-recent-on-screen8747084_30="409592"
                    data-gtm-vis-total-visible-time8747084_30="100" data-gtm-vis-has-fired8747084_30="1">Apply
                    now</button>
                <button id="createTopdevCV" type="button"
                    class="inline-flex items-center justify-center gap-1 border border-solid text-sm transition-all disabled:cursor-not-allowed lg:gap-3 lg:text-base border-primary bg-transparent text-primary hover:bg-primary-100 dark:border-white dark:text-white h-9 rounded px-4 font-semibold lg:h-14 lg:px-8 w-full"
                    form=""><span class="">Create CV to apply</span></button>
                <section class="w-full bg-white">
                    <h2 class="p-4 text-lg font-bold text-gray-500">General information</h2>
                    <div class="flex flex-col self-stretch border-t border-gray-200 p-4">
                        <div class="flex flex-wrap">
                            <div class="item-card-info mb-2 w-1/2 md:mb-4 md:w-full">
                                <h3 class="mb-1 text-sm font-bold text-black md:text-base">Minimum year of experience
                                </h3>
                                <div><a class="text-sm hover:text-primary-300 hover:underline md:text-base"
                                        title="3 years"
                                        href="/it-jobs/3-nam-kt1644?src=topdev_detailjob&amp;medium=general_info">From 3
                                        years</a></div>
                            </div>
                            <div class="item-card-info mb-2 w-1/2 pl-3 md:mb-4 md:w-full md:pl-0">
                                <h3 class="mb-1 text-sm font-bold text-black md:text-base">Level</h3>
                                <div><a class="text-sm hover:text-primary-300 hover:underline md:text-base"
                                        title="Middle"
                                        href="/it-jobs/middle-kt8665?src=topdev_detailjob&amp;medium=general_info">Middle</a>,
                                    <a class="text-sm hover:text-primary-300 hover:underline md:text-base"
                                        title="Senior"
                                        href="/it-jobs/senior-kt8666?src=topdev_detailjob&amp;medium=general_info">Senior</a>
                                </div>
                            </div>
                            <div class="item-card-info mb-2 w-1/2 md:mb-4 md:w-full">
                                <h3 class="mb-1 text-sm font-bold text-black md:text-base">Job Type</h3>
                                <div><a class="text-sm hover:text-primary-300 hover:underline md:text-base"
                                        title="In Office"
                                        href="/it-jobs/in-office-kt8792?src=topdev_detailjob&amp;medium=general_info">In
                                        Office</a></div>
                            </div>
                            <div class="item-card-info mb-2 w-1/2 pl-3 md:mb-4 md:w-full md:pl-0">
                                <h3 class="mb-1 text-sm font-bold text-black md:text-base">Contract type</h3>
                                <div><a class="text-sm hover:text-primary-300 hover:underline md:text-base"
                                        title="Fulltime"
                                        href="/it-jobs/fulltime-kt1622?src=topdev_detailjob&amp;medium=general_info">Fulltime</a>
                                </div>
                            </div>
                        </div>
                        <div class="item-card-info mb-4">
                            <h3 class="mb-1 text-sm font-bold text-black md:text-base">Tech stack</h3>
                            <div class="">
                                <div class="flex flex-wrap gap-y-2">
                                    <div><a class="mr-2 inline-block"
                                            href="/it-jobs/linux-kt6?src=topdev_detailjob&amp;medium=skilltag"><span
                                                class="whitespace-nowrap rounded border border-solid font-normal transition-all inline-flex items-center justify-center border-blue-light text-blue-dark bg-blue-light hover:border-blue-dark h-[1.625rem] px-2 text-xs md:h-7 md:px-2 md:text-sm">Linux</span></a>
                                    </div>
                                    <div><a class="mr-2 inline-block"
                                            href="/it-jobs/java-kt21?src=topdev_detailjob&amp;medium=skilltag"><span
                                                class="whitespace-nowrap rounded border border-solid font-normal transition-all inline-flex items-center justify-center border-blue-light text-blue-dark bg-blue-light hover:border-blue-dark h-[1.625rem] px-2 text-xs md:h-7 md:px-2 md:text-sm">Java</span></a>
                                    </div>
                                    <div><a class="mr-2 inline-block"
                                            href="/it-jobs/devops-kt213?src=topdev_detailjob&amp;medium=skilltag"><span
                                                class="whitespace-nowrap rounded border border-solid font-normal transition-all inline-flex items-center justify-center border-blue-light text-blue-dark bg-blue-light hover:border-blue-dark h-[1.625rem] px-2 text-xs md:h-7 md:px-2 md:text-sm">DevOps</span></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="item-card-info">
                            <h3 class="mb-1 text-sm font-bold text-black md:text-base">Recruitment Progress</h3>
                            <div>
                                <ul class="list-disc pl-5 text-base">
                                    <li class="mb-1 text-sm last:mb-0 md:text-base">Round 1: TA Phonescreen</li>
                                    <li class="mb-1 text-sm last:mb-0 md:text-base">Round 2: Technical Interview</li>
                                    <li class="mb-1 text-sm last:mb-0 md:text-base">Round 3: Final Interview</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <div class="flex w-full flex-col gap-4 md:w-full" id="tabInterview">
            <div class="container mt-4 flex flex-col flex-wrap items-start gap-6 px-0 md:flex-nowrap md:px-4">
                <div class="flex w-full flex-col gap-1 bg-white p-4">
                    <h3 class="text-2xl font-semibold text-neutral-950">✨ Recommended Jobs</h3>
                    <p>💡 Discover the Easy Apply feature and apply instantly with your latest CV on CodePlayground</p>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
                <InterviewKit :title="'Top 150 Companies Interview'"
                              :description="'See the Google, Microsoft, Apple and many more company\'s interview...'"
                              :imgUrl="'https://waya.media/wp-content/uploads/sites/3/2022/05/banner-01.png'"></InterviewKit>
                <InterviewKit :title="'CodePlayground Top 50'"
                              :description="'Check CodePlayground Top 50 Problems Set. Change your mindset and improve your problem solving skill!'"
                              :imgUrl="'https://searchengineland.com/wp-content/seloads/2020/03/code-SS_634574354-1920x1080-1.jpg'"></InterviewKit>
                <InterviewKit :title="'Amazon Spring \'23 High Frequency'"
                              :description="'Practice Amazon 25 Recently Asked Qs. Amazon Spr'"
                              :imgUrl="'https://static.vecteezy.com/system/resources/previews/019/766/240/non_2x/amazon-logo-amazon-icon-transparent-free-png.png'"></InterviewKit>
                <span class="w-full text-center col-span-full"><router-link
                    class="btn rounded-3xl bg-primary hover:bg-cyan-700 text-white text-lg" to=""><i
                    class="fa-solid fa-arrow-right"></i>SEE MORE</router-link></span>
            </div>
        </div>
    </div>
</template>
<script>
import InterviewKit from "@/components/cards/InterviewKit.vue";
export default {
    components: {
        InterviewKit
    },
    name: "DetailJobs",
    mounted() {
        let firstTop = 0;
        let element = document.getElementById("tabMnf");
        let element2 = document.getElementById("tabInterview");
        let rect = element.getBoundingClientRect();
        let rect2 = element2.getBoundingClientRect();
        firstTop = rect.top;
        console.log(rect2.top)
        console.log(firstTop)

        document.addEventListener("scroll", (event) => {
            if (window.scrollY >= firstTop && window.scrollY <= rect2.top-50) {
                element.classList.add('lg:fixed');
                element.classList.add('lg:top-0');
                element.classList.add('lg:w-[58%]');
                element.classList.add('lg:scroll-mt-28');

                // element2.classList.add('fixed');
                // element2.classList.add('top-0');
                // element2.classList.add('right-0');
                // element2.classList.add('md:w-[30%]');
                // element2.classList.add('scroll-mt-30');


            } else {
                element.classList.remove('lg:fixed');
                element.classList.remove('lg:top-0');
                element.classList.remove('lg:w-[58%]')

                // element2.classList.remove('fixed');
                // element2.classList.remove('top-0');
                // element2.classList.remove('md:w-[30%]')
            }
        }
        );
    }
}
</script>
